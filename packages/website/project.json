{
  "name": "@aws-samples/smart-product-onboarding-demo-website",
  "root": "packages/website",
  "targets": {
    "pre-compile": {
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "rm -rf public/smart-product-onboarding-api",
          "mkdir -p public/smart-product-onboarding-api && cp ../api/model/.api.json public/smart-product-onboarding-api/api.json"
        ],
        "cwd": "packages/website",
        "parallel": false
      },
      "inputs": ["{projectRoot}/../api/model/.api.json"],
      "outputs": ["{projectRoot}/public/smart-product-onboarding-api"]
    },
    "compile": {
      "executor": "nx:run-commands",
      "options": {
        "command": "react-scripts build",
        "cwd": "packages/website"
      },
      "dependsOn": ["pre-compile"],
      "inputs": [
        "default",
        "^default",
        "{projectRoot}/public/**/*",
        "{projectRoot}/src/**/*",
        "{projectRoot}/tsconfig.json",
        "{projectRoot}/package.json"
      ],
      "outputs": ["{projectRoot}/build"]
    },
    "post-compile": {
      "executor": "nx:run-commands",
      "options": {
        "command": "echo 'Post-compile step completed'",
        "cwd": "packages/website"
      }
    },
    "test": {
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "eslint --ext .ts,.tsx --fix --no-error-on-unmatched-pattern src test build-tools",
          "react-scripts test --watchAll=false --passWithNoTests"
        ],
        "cwd": "packages/website",
        "parallel": false
      },
      "inputs": [
        "default",
        "{projectRoot}/src/**/*",
        "{projectRoot}/test/**/*",
        "{projectRoot}/.eslintrc.json",
        "{projectRoot}/tsconfig.json"
      ]
    },
    "package": {
      "executor": "nx:run-commands",
      "options": {
        "command": "echo 'Package step completed'",
        "cwd": "packages/website"
      },
      "dependsOn": ["compile"]
    },
    "build": {
      "executor": "nx:run-commands",
      "options": {
        "command": "echo 'Build completed - use compile target for React build'",
        "cwd": "packages/website"
      },
      "dependsOn": ["compile", "test"]
    },
    "post-upgrade": {
      "executor": "nx:run-commands",
      "options": {
        "command": "echo 'Post-upgrade step completed'",
        "cwd": "packages/website"
      }
    },
    "upgrade": {
      "executor": "nx:run-commands",
      "options": {
        "command": "echo 'Upgrade functionality not implemented in direct Nx management'",
        "cwd": "packages/website"
      }
    },
    "watch": {
      "executor": "nx:run-commands",
      "options": {
        "command": "tsc --build -w",
        "cwd": "packages/website"
      }
    },
    "lint": {
      "executor": "nx:run-commands",
      "options": {
        "command": "eslint --ext .ts,.tsx --fix --no-error-on-unmatched-pattern src test build-tools",
        "cwd": "packages/website"
      },
      "inputs": [
        "default",
        "{projectRoot}/src/**/*",
        "{projectRoot}/test/**/*",
        "{projectRoot}/.eslintrc.json",
        "{projectRoot}/tsconfig.json"
      ]
    },
    "dev": {
      "executor": "nx:run-commands",
      "options": {
        "command": "react-scripts start",
        "cwd": "packages/website"
      },
      "env": {
        "ESLINT_NO_DEV_ERRORS": "true",
        "TSC_COMPILE_ON_ERROR": "true"
      }
    }
  }
}
