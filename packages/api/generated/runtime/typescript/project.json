{
  "name": "@aws-samples/smart-product-onboarding-api-typescript-runtime",
  "root": "packages/api/generated/runtime/typescript",
  "targets": {
    "generate": {
      "executor": "nx:run-commands",
      "options": {
        "command": "pnpm exec type-safe-api generate --specPath packages/api/model/.api.json --outputPath packages/api/generated/runtime/typescript --templateDirs \"typescript\" --metadata '{\"srcDir\":\"src\"}'"
      },
      "dependsOn": ["@aws-samples/smart-product-onboarding-api-model:generate"]
    },
    "compile": {
      "executor": "nx:run-commands",
      "options": {
        "command": "cd packages/api/generated/runtime/typescript && tsc --build"
      },
      "inputs": [
        "default",
        "^default",
        "{projectRoot}/src/**/*",
        "{projectRoot}/tsconfig.json"
      ],
      "outputs": ["{projectRoot}/lib"],
      "dependsOn": ["generate"]
    },
    "watch": {
      "executor": "nx:run-commands",
      "options": {
        "command": "cd packages/api/generated/runtime/typescript && tsc --build -w"
      }
    },
    "test": {
      "executor": "nx:run-commands",
      "options": {
        "command": "echo 'No tests defined for generated runtime package'"
      }
    },
    "package": {
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "mkdir -p packages/api/generated/runtime/typescript/dist/js",
          "cd packages/api/generated/runtime/typescript && pnpm pack --pack-destination dist/js"
        ],
        "parallel": false
      },
      "inputs": ["{projectRoot}/lib/**/*", "{projectRoot}/package.json"],
      "outputs": ["{projectRoot}/dist"],
      "dependsOn": ["compile"]
    },
    "build": {
      "dependsOn": ["generate", "compile", "test", "package"]
    }
  },
  "implicitDependencies": ["@aws-samples/smart-product-onboarding-api-model"]
}
